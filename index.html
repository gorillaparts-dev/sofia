<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ 8 –ª–µ—Ç ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞</title>
<style>
  :root{
    --bg:#fff7ff;
    --ink:#1f2a44;
    --accent:#ff6ec7;
    --accent2:#7afcff;
    --accent3:#ffe45e;
    --btn:#5b5bd6;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
    background: radial-gradient(1200px 800px at 10% 10%, var(--accent2) 0%, transparent 40%),
                radial-gradient(900px 700px at 90% 20%, var(--accent3) 0%, transparent 45%),
                radial-gradient(1200px 800px at 30% 90%, #ffd3e8 0%, transparent 40%), #fff7ff;
    color:var(--ink);
  }
  .container{max-width:1100px;margin:0 auto;padding:20px}
  header{text-align:center;padding:32px 16px 8px;}
  h1{font-size: clamp(28px, 4vw, 44px);line-height:1.1;margin:0;}
  .sub{margin-top:10px;font-size: clamp(16px, 2vw, 20px);opacity:.85;}
  .card{
    backdrop-filter: blur(8px);
    background: rgba(255,255,255,.7);
    border: 2px solid rgba(0,0,0,.06);
    border-radius: 16px;
    padding: 18px;
    box-shadow: 0 10px 30px rgba(31,42,68,.08);
  }
  .intro{
    display:grid;grid-template-columns: 1fr;gap:16px;align-items:center;
    margin: 16px auto 24px;max-width: 720px;
  }
  .intro .row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
  input[type="text"]{
    padding:14px 16px;border-radius: 12px;border:2px solid rgba(0,0,0,.1);
    width:min(420px, 90vw);font-size:16px;outline:none;
  }
  button{
    cursor:pointer;border:none;padding:14px 18px;border-radius:12px;
    background:linear-gradient(135deg, var(--btn), #7f7fff);
    color:white;font-weight:700;letter-spacing:.2px;
    box-shadow: 0 8px 20px rgba(91,91,214,.35);
    transition: transform .08s ease;
  }
  button:active{transform: translateY(1px)}

  .grid{
    display:grid;
    grid-template-columns: repeat( auto-fit, minmax(220px, 1fr) );
    gap:18px;
    margin-top: 10px;
  }
  .character{
    position:relative;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    min-height: 320px;
    text-align:center;
    isolation:isolate;
    transition: transform .12s ease, box-shadow .12s ease;
  }
  .character:focus-within,
  .character:hover{ box-shadow: 0 14px 36px rgba(31,42,68,.12); }
  .bubble{
    position:absolute;inset:4px;border-radius:20px;
    background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
    border:2px solid rgba(31,42,68,.08);z-index:1;
  }
  .badge{
    position:absolute;top:10px;left:10px;
    background: #00000012;padding:6px 10px;border-radius:999px;font-size:12px;z-index:2;
  }
  .sprite{
    position:relative;z-index:3;
    width:180px;height:180px;
    margin: 28px auto 8px;display:grid;place-items:center;border-radius:24px;
    box-shadow: inset 0 0 0 2px rgba(0,0,0,.06), 0 8px 18px rgba(0,0,0,.08);
    background:white;transition: transform .18s ease;
  }
  .sprite:hover{ transform: translateY(-2px) scale(1.02); }
  .sprite img{width:100%;height:100%;object-fit:contain;display:block;}
  .label{font-weight:800;margin-top:6px;z-index:3}
  .cta{ text-align:center;margin: 8px 0 0;font-weight:700;z-index:3}
  .hit{
    position:absolute; inset:0; z-index:4; border-radius:16px;
    background: transparent; border:0; cursor:pointer;
  }
  .hit:focus{ outline: 3px solid #7f7fff; outline-offset: -2px; border-radius:16px; }

  .speech{
    position:absolute; left:50%; top:8px; transform: translateX(-50%) scale(.9);
    opacity:0; pointer-events:none; background:white;border-radius:12px;
    border:2px solid rgba(0,0,0,.08); padding:10px 12px; font-size:14px;
    width:min(260px, 80vw); box-shadow: 0 10px 24px rgba(31,42,68,.12); z-index:5;
  }
  .speech.show{ animation: pop .9s cubic-bezier(.2,.9,.2,1); }
  @keyframes pop{
    0%{opacity:0; transform: translateX(-50%) translateY(8px) scale(.95)}
    12%{opacity:1}
    100%{opacity:1; transform: translateX(-50%) translateY(0) scale(1)}
  }

  .final{ margin: 30px 0 12px; padding: 24px 14px 28px; text-align:center; position:relative; overflow:hidden;}
  .final h2{ font-size: clamp(26px, 3.6vw, 40px); margin: 6px 0 8px; }
  .final .sub2{opacity:.9}
  .hidden{display:none}
  #confettiCanvas{ position:absolute; inset:0; pointer-events:none; }
</style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üéÅ –ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è —Å–∞–º–æ–π —Å—á–∞—Å—Ç–ª–∏–≤–æ–π –¥–µ–≤–æ—á–∫–∏ –Ω–∞ 8 –ª–µ—Ç!</h1>
      <p class="sub">–ù–∞–∂–∏–º–∞–π –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π ‚Äî –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª –¥–ª—è —Ç–µ–±—è —Ç—ë–ø–ª–æ–µ –ø–æ–∂–µ–ª–∞–Ω–∏–µ –∏ –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ ‚ú®</p>
    </header>

    <section class="card intro">
      <div class="row">
        <input id="childName" type="text" placeholder="–°–æ—Ñ–∏—è =) –í–≤–µ–¥–∏ —Å–≤–æ–µ –ò–º—è –∏ –Ω–∞–∂–º–∏ –Ω–∞—á–∞—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫" aria-label="–ò–º—è –¥–µ–≤–æ—á–∫–∏">
        <button id="startBtn" type="button">–ù–∞—á–∞—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫ ‚ú®</button>
      </div>
      <p style="margin:0; text-align:center; font-size:14px; opacity:.85"></p>
    </section>

    <section class="grid" id="grid">
      <article class="character card" data-name="labubu">
        <div class="bubble"></div>
        <div class="badge">Labubu</div>
        <div class="speech" id="speech-labubu">–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, <span class="n"></span>! –ü—É—Å—Ç—å —É —Ç–µ–±—è –±—É–¥–µ—Ç –º–æ—Ä–µ —É–ª—ã–±–æ–∫ –∏ —Å–ª–∞–¥–æ—Å—Ç–µ–π! üç≠</div>
        <div class="sprite" data-anim="bounce"><img src="img/m8p7rj0iowgg23zi8rhgbwlkd390fq2t.png" alt="Labubu"></div>
        <div class="label">Labubu</div><div class="cta">–ù–∞–∂–º–∏ –º–µ–Ω—è!</div><button class="hit" aria-label="Labubu"></button>
      </article>

      <article class="character card" data-name="stitch">
        <div class="bubble"></div>
        <div class="badge">–°—Ç–∏—á</div>
        <div class="speech" id="speech-stitch"><span class="n"></span>, —Ç—ã —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏ –æ—á–µ–Ω—å –∫—Ä—É—Ç–∞—è! –û—Å—Ç–∞–≤–∞–π—Å—è –≤—Å–µ–≥–¥–∞ —Ç–∞–∫–æ–π –∂–µ —è—Ä–∫–æ–π! ‚≠ê</div>
        <div class="sprite" data-anim="wiggle"><img src="img/pngimg.com - stitch_PNG15.png" alt="–°—Ç–∏—á"></div>
        <div class="label">–°—Ç–∏—á</div><div class="cta">–ù–∞–∂–º–∏ –º–µ–Ω—è!</div><button class="hit" aria-label="–°—Ç–∏—á"></button>
      </article>

      <article class="character card" data-name="dog">
        <div class="bubble"></div>
        <div class="badge">–¢–µ–¥–¥–∏, –í–∏–Ω—è, –î—É–Ω—è</div>
        <div class="speech" id="speech-dog">–ì–∞–≤-–≥–∞–≤! –î–æ—Ä–æ–≥–∞—è <span class="n"></span>, –≤–µ—Ä–Ω—ã–µ –¥—Ä—É–∑—å—è –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º! üêæ</div>
        <div class="sprite" data-anim="wiggle"><img src="img/ted.png" alt="–°–æ–±–∞–∫–∞"></div>
        <div class="label">–¢–µ–¥–¥–∏, –í–∏–Ω—è, –î—É–Ω—è</div><div class="cta">–ù–∞–∂–º–∏ –º–µ–Ω—è!</div><button class="hit" aria-label="–¢–µ–¥–¥–∏, –í–∏–Ω—è, –î—É–Ω—è"></button>
      </article>

      <article class="character card" data-name="turtle">
        <div class="bubble"></div>
        <div class="badge">–ù–∞—Ç–∞—à–∫–∞</div>
        <div class="speech" id="speech-turtle">–ü—É—Å—Ç—å –º–µ—á—Ç—ã —Å–±—ã–≤–∞—é—Ç—Å—è —à–∞–≥ –∑–∞ —à–∞–≥–æ–º, –Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ, <span class="n"></span>! üíö</div>
        <div class="sprite" data-anim="wiggle"><img src="img/turtle.png" alt="–ù–∞—Ç–∞—à–∫–∞"></div>
        <div class="label">–ù–∞—Ç–∞—à–∫–∞</div><div class="cta">–ù–∞–∂–º–∏ –º–µ–Ω—è!</div><button class="hit" aria-label="–ù–∞—Ç–∞—à–∫–∞"></button>
      </article>

      <article class="character card" data-name="parrot">
        <div class="bubble"></div>
        <div class="badge">–ì–µ—Ä–∞</div>
        <div class="speech" id="speech-parrot">–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, <span class="n"></span>! –ñ–µ–ª–∞—é –≤–µ—Å–µ–ª—å—è, —Ä–∞–¥–æ—Å—Ç–∏ –∏ —è—Ä–∫–∏—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π! üéâ</div>
        <div class="sprite" data-anim="bounce"><img src="img/african.png" alt="–ì–µ—Ä–∞"></div>
        <div class="label">–ì–µ—Ä–∞</div><div class="cta">–ù–∞–∂–º–∏ –º–µ–Ω—è!</div><button class="hit" aria-label="–ì–µ—Ä–∞"></button>
      </article>
    </section>

    <section class="card final hidden" id="final">
      <canvas id="confettiCanvas"></canvas>
      <h2>üéÇ –° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, <span id="finalName">–ø—Ä–∏–Ω—Ü–µ—Å—Å–∞</span>!</h2>
      <p class="sub2">–¢—ã —Å–∞–º–∞—è —á—É–¥–µ—Å–Ω–∞—è 8-–ª–µ—Ç–Ω—è—è! –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –±—É–¥–µ—Ç –ø–æ–ª–æ–Ω —É–ª—ã–±–æ–∫, –∏–≥—Ä –∏ –æ—Ç–∫—Ä—ã—Ç–∏–π ‚ú®</p>
    </section>
  </div>

<script>
  const nameInput = document.getElementById('childName');
  const startBtn = document.getElementById('startBtn');
  const grid = document.getElementById('grid');
  const final = document.getElementById('final');
  const finalName = document.getElementById('finalName');

  function getName(){ const v = (nameInput.value || '').trim(); return v.length ? v : '–ü—Ä–∏–Ω—Ü–µ—Å—Å–∞'; }
  function updateNames(){ document.querySelectorAll('.n').forEach(el=> el.textContent = getName()); finalName.textContent = getName(); }
  nameInput.addEventListener('input', updateNames);
  startBtn.addEventListener('click', ()=>{ updateNames(); grid.scrollIntoView({behavior:'smooth', block:'start'}); });

  // SOUND with WebAudio
  let audioCtx;
  function playClick(){
    try{
      if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type='triangle'; o.frequency.value = 880;
      g.gain.setValueAtTime(0.0001, audioCtx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.2, audioCtx.currentTime + 0.01);
      g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.12);
      o.connect(g); g.connect(audioCtx.destination);
      o.start(); o.stop(audioCtx.currentTime + 0.14);
    }catch(e){}
  }

  function bounce(el){
    el.animate([{transform:'translateY(0) scale(1)'},{transform:'translateY(-8px) scale(1.03)'},{transform:'translateY(0) scale(1)'}],
               {duration:500,easing:'cubic-bezier(.2,.9,.2,1)'});
  }
  function wiggle(el){
    el.animate([{transform:'rotate(0deg)'},{transform:'rotate(-7deg)'},{transform:'rotate(7deg)'},{transform:'rotate(0deg)'}],
               {duration:500,easing:'ease-in-out'});
  }

  const chars = document.querySelectorAll('.character');
  let clickedSet = new Set();
  chars.forEach(card => {
    const sprite = card.querySelector('.sprite');
    const speech = card.querySelector('.speech');
    const hit = card.querySelector('.hit');
    function handle(){
      playClick();
      const anim = sprite.dataset.anim;
      if(anim==='bounce') bounce(sprite); else wiggle(sprite);
      speech.classList.remove('show'); void speech.offsetWidth;
      speech.querySelectorAll('.n').forEach(el=> el.textContent = getName());
      speech.classList.add('show');
      setTimeout(()=>{ speech.classList.remove('show'); }, 10000);
      clickedSet.add(card.dataset.name);
      checkFinal();
    }
    hit.addEventListener('click', handle);
    hit.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); handle(); }});
  });

  function checkFinal(){
    if(clickedSet.size >= document.querySelectorAll('.character').length){
      if(final.classList.contains('hidden')){
        final.classList.remove('hidden');
        final.scrollIntoView({behavior:'smooth', block:'center'});
        launchConfetti();
      } else { launchConfetti(120); }
    }
  }

  function launchConfetti(particles=220){
    const c = document.getElementById('confettiCanvas');
    const ctx = c.getContext('2d');
    const rect = c.parentElement.getBoundingClientRect();
    c.width = rect.width; c.height = rect.height;
    const cols = ['#ff6ec7','#7afcff','#ffe45e','#5b5bd6','#9b7bff','#ffb86b'];
    const confs = [...Array(particles)].map(()=> ({
      x: Math.random()*c.width, y: -10 - Math.random()*c.height*0.2,
      r: 2 + Math.random()*4, vx: -1 + Math.random()*2, vy: 1 + Math.random()*2.5,
      rot: Math.random()*360, vr: -4 + Math.random()*8, color: cols[Math.floor(Math.random()*cols.length)],
      shape: Math.random() < .5 ? 'rect' : 'circ'
    }));
    let t=0, maxT=200;
    function step(){
      ctx.clearRect(0,0,c.width,c.height);
      confs.forEach(p=>{
        p.x+=p.vx; p.y+=p.vy; p.rot+=p.vr;
        ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot * Math.PI/180);
        ctx.fillStyle=p.color;
        if(p.shape==='rect'){ ctx.fillRect(-p.r,-p.r, p.r*2, p.r*2); }
        else { ctx.beginPath(); ctx.arc(0,0,p.r,0,Math.PI*2); ctx.fill(); }
        ctx.restore();
      });
      t++; if(t<maxT) requestAnimationFrame(step);
    }
    step();
  }

  updateNames();
</script>
</body>
</html>
